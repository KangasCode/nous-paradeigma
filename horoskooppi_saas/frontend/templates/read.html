<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study & Learn - Nous Paradeigma</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="stylesheet" href="/static/styles.css">
    <style>
        /* Blog Grid */
        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .blog-card {
            background: linear-gradient(135deg, rgba(30, 30, 50, 0.95) 0%, rgba(20, 20, 40, 0.98) 100%);
            border: 1px solid rgba(138, 116, 249, 0.3);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .blog-card:hover {
            transform: translateY(-5px);
            border-color: rgba(138, 116, 249, 0.6);
            box-shadow: 0 15px 40px rgba(138, 116, 249, 0.2);
        }
        
        .blog-image {
            height: 180px;
            background: linear-gradient(135deg, var(--primary-purple) 0%, var(--gold) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
        }
        
        .blog-content {
            padding: 1.5rem;
        }
        
        .blog-category {
            font-size: 0.75rem;
            text-transform: uppercase;
            color: var(--gold);
            margin-bottom: 0.5rem;
        }
        
        .blog-title {
            font-size: 1.25rem;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
            line-height: 1.4;
        }
        
        .blog-excerpt {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .blog-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: var(--text-muted);
        }
        
        .read-more {
            color: var(--gold);
            text-decoration: none;
            font-weight: 500;
        }
        
        .read-more:hover {
            text-decoration: underline;
        }
        
        /* Categories */
        .categories {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .category-btn {
            padding: 0.5rem 1.25rem;
            background: rgba(138, 116, 249, 0.1);
            border: 1px solid rgba(138, 116, 249, 0.3);
            border-radius: 20px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .category-btn:hover, .category-btn.active {
            background: rgba(138, 116, 249, 0.3);
            color: var(--text-primary);
        }
        
        /* Featured Section */
        .featured-section {
            background: linear-gradient(135deg, rgba(138, 116, 249, 0.1) 0%, rgba(30, 30, 50, 0.95) 100%);
            border: 1px solid rgba(138, 116, 249, 0.4);
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 3rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: center;
        }
        
        @media (max-width: 768px) {
            .featured-section {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }
        
        .featured-image {
            background: linear-gradient(135deg, var(--primary-purple), var(--gold));
            border-radius: 16px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 6rem;
        }
        
        .featured-content h2 {
            font-size: 2rem;
            color: var(--gold);
            margin-bottom: 1rem;
        }
        
        .featured-content p {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }
        
        /* Learning Paths */
        .learning-paths {
            margin-top: 3rem;
        }
        
        .learning-paths h2 {
            color: var(--gold);
            margin-bottom: 2rem;
        }
        
        .path-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        
        .path-card {
            background: rgba(20, 20, 40, 0.6);
            border: 1px solid rgba(138, 116, 249, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .path-card:hover {
            border-color: rgba(138, 116, 249, 0.5);
        }
        
        .path-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .path-title {
            color: var(--text-primary);
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        
        .path-lessons {
            color: var(--text-muted);
            font-size: 0.85rem;
        }
        
        /* Back Navigation */
        .back-nav {
            margin-bottom: 2rem;
        }
        
        .back-link {
            color: var(--text-secondary);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .back-link:hover {
            color: var(--gold);
        }
        
        /* Coming Soon Overlay */
        .coming-soon-overlay {
            position: relative;
        }
        
        .coming-soon-overlay::after {
            content: 'Coming Soon';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(212, 175, 55, 0.9);
            color: #1a1a2e;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .coming-soon-overlay > * {
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <h1>âœ¨ Nous Paradeigma</h1>
            </div>
            <nav class="nav">
                <a href="/dashboard" class="btn btn-ghost" data-i18n="dashboard">Hallintapaneeli</a>
                <button id="logoutBtn" class="btn btn-ghost" data-i18n="logout">Kirjaudu ulos</button>
            </nav>
        </header>

        <main class="dashboard">
            <!-- Back Navigation -->
            <div class="back-nav">
                <a href="/dashboard" class="back-link" data-i18n="backToDashboard">â† Takaisin hallintapaneeliin</a>
            </div>

            <h1 style="color: var(--gold); margin-bottom: 1rem;" data-i18n="pageTitle">ğŸ“š Opiskelu & Oppiminen</h1>
            <p style="color: var(--text-secondary); margin-bottom: 3rem;" data-i18n="pageDesc">
                SyvenÃ¤ ymmÃ¤rrystÃ¤si astrologiasta, kosmisista kuvioista ja itsensÃ¤ lÃ¶ytÃ¤misestÃ¤.
            </p>

            <!-- Featured Article -->
            <section class="featured-section">
                <div class="featured-image">ğŸŒŸ</div>
                <div class="featured-content">
                    <span style="color: var(--gold); font-size: 0.85rem; text-transform: uppercase;" data-i18n="featuredGuide">Suositeltu opas</span>
                    <h2 data-i18n="birthChartTitle">SyntymÃ¤karttasi ymmÃ¤rtÃ¤minen</h2>
                    <p data-i18n="birthChartDesc">
                        SyntymÃ¤karttasi on kosminen kuva taivaasta syntymÃ¤hetkellÃ¤. 
                        Opi miten planeettojen, huoneiden ja aspektien asemat luovat ainutlaatuisen astrologisen piirteistÃ¶si.
                    </p>
                    <a href="#" class="btn btn-primary" data-i18n="startReading">Aloita lukeminen</a>
                </div>
            </section>

            <!-- Categories -->
            <div class="categories">
                <button class="category-btn active" data-i18n="all">Kaikki</button>
                <button class="category-btn" data-i18n="basics">Perusteet</button>
                <button class="category-btn" data-i18n="planets">Planeetat</button>
                <button class="category-btn" data-i18n="houses">Huoneet</button>
                <button class="category-btn" data-i18n="aspects">Aspektit</button>
                <button class="category-btn" data-i18n="transits">Transitit</button>
            </div>

            <!-- Blog Grid -->
            <div class="blog-grid">
                <article class="blog-card">
                    <div class="blog-image">â™ˆ</div>
                    <div class="blog-content">
                        <span class="blog-category" data-i18n="zodiacSigns">Horoskooppimerkit</span>
                        <h3 class="blog-title" data-i18n="zodiacTitle">12 horoskooppimerkkiÃ¤: TÃ¤ydellinen opas</h3>
                        <p class="blog-excerpt" data-i18n="zodiacExcerpt">
                            Tutki kunkin horoskooppimerkin ominaisuuksia, vahvuuksia ja haasteita kattavassa oppaassamme.
                        </p>
                        <div class="blog-meta">
                            <span data-i18n="minRead15">15 min lukuaika</span>
                            <a href="#" class="read-more" data-i18n="readMore">Lue lisÃ¤Ã¤ â†’</a>
                        </div>
                    </div>
                </article>

                <article class="blog-card">
                    <div class="blog-image">ğŸŒ™</div>
                    <div class="blog-content">
                        <span class="blog-category" data-i18n="moon">Kuu</span>
                        <h3 class="blog-title" data-i18n="moonTitle">Kuumerkkisi ymmÃ¤rtÃ¤minen</h3>
                        <p class="blog-excerpt" data-i18n="moonExcerpt">
                            Kuumerkkisi paljastaa tunteellisen luonteesi ja sisÃ¤isen maailmasi. LÃ¶ydÃ¤ mitÃ¤ se kertoo sinusta.
                        </p>
                        <div class="blog-meta">
                            <span data-i18n="minRead10">10 min lukuaika</span>
                            <a href="#" class="read-more" data-i18n="readMore">Lue lisÃ¤Ã¤ â†’</a>
                        </div>
                    </div>
                </article>

                <article class="blog-card">
                    <div class="blog-image">â¬†ï¸</div>
                    <div class="blog-content">
                        <span class="blog-category" data-i18n="ascendant">Nouseva merkki</span>
                        <h3 class="blog-title" data-i18n="risingTitle">Nouseva merkkisi selitettynÃ¤</h3>
                        <p class="blog-excerpt" data-i18n="risingExcerpt">
                            Nouseva merkki muokkaa sitÃ¤, miten muut nÃ¤kevÃ¤t sinut. Opi sen voimakkaasta vaikutuksesta persoonallisuuteesi.
                        </p>
                        <div class="blog-meta">
                            <span data-i18n="minRead8">8 min lukuaika</span>
                            <a href="#" class="read-more" data-i18n="readMore">Lue lisÃ¤Ã¤ â†’</a>
                        </div>
                    </div>
                </article>

                <article class="blog-card">
                    <div class="blog-image">ğŸ </div>
                    <div class="blog-content">
                        <span class="blog-category" data-i18n="housesLabel">Huoneet</span>
                        <h3 class="blog-title" data-i18n="housesTitle">Astrologian 12 huonetta</h3>
                        <p class="blog-excerpt" data-i18n="housesExcerpt">
                            Jokainen huone edustaa eri elÃ¤mÃ¤naluetta. Opi mitÃ¤ planeetat kussakin huoneessa tarkoittavat sinulle.
                        </p>
                        <div class="blog-meta">
                            <span data-i18n="minRead20">20 min lukuaika</span>
                            <a href="#" class="read-more" data-i18n="readMore">Lue lisÃ¤Ã¤ â†’</a>
                        </div>
                    </div>
                </article>

                <article class="blog-card">
                    <div class="blog-image">ğŸ”—</div>
                    <div class="blog-content">
                        <span class="blog-category" data-i18n="aspectsLabel">Aspektit</span>
                        <h3 class="blog-title" data-i18n="aspectsTitle">Planeettojen aspektit: Miten planeetat vuorovaikuttavat</h3>
                        <p class="blog-excerpt" data-i18n="aspectsExcerpt">
                            Konjunktiot, neliÃ¶t, triinit ja oppositiot - ymmÃ¤rrÃ¤ miten planeettojen suhteet muokkaavat karttaasi.
                        </p>
                        <div class="blog-meta">
                            <span data-i18n="minRead12">12 min lukuaika</span>
                            <a href="#" class="read-more" data-i18n="readMore">Lue lisÃ¤Ã¤ â†’</a>
                        </div>
                    </div>
                </article>

                <article class="blog-card">
                    <div class="blog-image">ğŸ”„</div>
                    <div class="blog-content">
                        <span class="blog-category" data-i18n="transitsLabel">Transitit</span>
                        <h3 class="blog-title" data-i18n="transitsTitle">Miten lukea transitteja</h3>
                        <p class="blog-excerpt" data-i18n="transitsExcerpt">
                            Nykyiset planeettojen liikkeet vaikuttavat syntymÃ¤karttaasi. Opi tulkitsemaan transitteja pÃ¤ivittÃ¤isessÃ¤ elÃ¤mÃ¤ssÃ¤si.
                        </p>
                        <div class="blog-meta">
                            <span data-i18n="minRead15">15 min lukuaika</span>
                            <a href="#" class="read-more" data-i18n="readMore">Lue lisÃ¤Ã¤ â†’</a>
                        </div>
                    </div>
                </article>
            </div>

            <!-- Learning Paths -->
            <section class="learning-paths">
                <h2 data-i18n="learningPaths">ğŸ“ Oppimispolut</h2>
                <div class="path-grid">
                    <div class="path-card">
                        <div class="path-icon">ğŸŒ±</div>
                        <h3 class="path-title" data-i18n="pathBasics">Astrologian perusteet</h3>
                        <p class="path-lessons" data-i18n="pathBasicsLessons">5 oppituntia â€¢ 2 tuntia</p>
                    </div>
                    <div class="path-card">
                        <div class="path-icon">ğŸª</div>
                        <h3 class="path-title" data-i18n="pathPlanets">Planeettojen vaikutukset</h3>
                        <p class="path-lessons" data-i18n="pathPlanetsLessons">8 oppituntia â€¢ 4 tuntia</p>
                    </div>
                    <div class="path-card">
                        <div class="path-icon">ğŸ“Š</div>
                        <h3 class="path-title" data-i18n="pathChart">Kartan tulkinta</h3>
                        <p class="path-lessons" data-i18n="pathChartLessons">10 oppituntia â€¢ 6 tuntia</p>
                    </div>
                    <div class="path-card">
                        <div class="path-icon">ğŸ”®</div>
                        <h3 class="path-title" data-i18n="pathAdvanced">Edistyneet tekniikat</h3>
                        <p class="path-lessons" data-i18n="pathAdvancedLessons">12 oppituntia â€¢ 8 tuntia</p>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>&copy; 2024 Nous Paradeigma. Kaikki oikeudet pidÃ¤tetÃ¤Ã¤n.</p>
        </footer>
    </div>

    <script>
        // ===========================================
        // TRANSLATIONS
        // ===========================================
        const translations = {
            fi: {
                'dashboard': 'Hallintapaneeli', 'logout': 'Kirjaudu ulos', 'backToDashboard': 'â† Takaisin hallintapaneeliin',
                'pageTitle': 'ğŸ“š Opiskelu & Oppiminen', 'pageDesc': 'SyvenÃ¤ ymmÃ¤rrystÃ¤si astrologiasta, kosmisista kuvioista ja itsensÃ¤ lÃ¶ytÃ¤misestÃ¤.',
                'featuredGuide': 'Suositeltu opas', 'birthChartTitle': 'SyntymÃ¤karttasi ymmÃ¤rtÃ¤minen',
                'birthChartDesc': 'SyntymÃ¤karttasi on kosminen kuva taivaasta syntymÃ¤hetkellÃ¤. Opi miten planeettojen, huoneiden ja aspektien asemat luovat ainutlaatuisen astrologisen piirteistÃ¶si.',
                'startReading': 'Aloita lukeminen', 'all': 'Kaikki', 'basics': 'Perusteet', 'planets': 'Planeetat',
                'houses': 'Huoneet', 'aspects': 'Aspektit', 'transits': 'Transitit', 'zodiacSigns': 'Horoskooppimerkit',
                'zodiacTitle': '12 horoskooppimerkkiÃ¤: TÃ¤ydellinen opas', 'zodiacExcerpt': 'Tutki kunkin horoskooppimerkin ominaisuuksia, vahvuuksia ja haasteita kattavassa oppaassamme.',
                'minRead15': '15 min lukuaika', 'minRead10': '10 min lukuaika', 'minRead8': '8 min lukuaika',
                'minRead12': '12 min lukuaika', 'minRead20': '20 min lukuaika', 'readMore': 'Lue lisÃ¤Ã¤ â†’',
                'moon': 'Kuu', 'moonTitle': 'Kuumerkkisi ymmÃ¤rtÃ¤minen', 'moonExcerpt': 'Kuumerkkisi paljastaa tunteellisen luonteesi ja sisÃ¤isen maailmasi. LÃ¶ydÃ¤ mitÃ¤ se kertoo sinusta.',
                'ascendant': 'Nouseva merkki', 'risingTitle': 'Nouseva merkkisi selitettynÃ¤', 'risingExcerpt': 'Nouseva merkki muokkaa sitÃ¤, miten muut nÃ¤kevÃ¤t sinut. Opi sen voimakkaasta vaikutuksesta persoonallisuuteesi.',
                'housesLabel': 'Huoneet', 'housesTitle': 'Astrologian 12 huonetta', 'housesExcerpt': 'Jokainen huone edustaa eri elÃ¤mÃ¤naluetta. Opi mitÃ¤ planeetat kussakin huoneessa tarkoittavat sinulle.',
                'aspectsLabel': 'Aspektit', 'aspectsTitle': 'Planeettojen aspektit: Miten planeetat vuorovaikuttavat', 'aspectsExcerpt': 'Konjunktiot, neliÃ¶t, triinit ja oppositiot - ymmÃ¤rrÃ¤ miten planeettojen suhteet muokkaavat karttaasi.',
                'transitsLabel': 'Transitit', 'transitsTitle': 'Miten lukea transitteja', 'transitsExcerpt': 'Nykyiset planeettojen liikkeet vaikuttavat syntymÃ¤karttaasi. Opi tulkitsemaan transitteja pÃ¤ivittÃ¤isessÃ¤ elÃ¤mÃ¤ssÃ¤si.',
                'learningPaths': 'ğŸ“ Oppimispolut', 'pathBasics': 'Astrologian perusteet', 'pathBasicsLessons': '5 oppituntia â€¢ 2 tuntia',
                'pathPlanets': 'Planeettojen vaikutukset', 'pathPlanetsLessons': '8 oppituntia â€¢ 4 tuntia',
                'pathChart': 'Kartan tulkinta', 'pathChartLessons': '10 oppituntia â€¢ 6 tuntia',
                'pathAdvanced': 'Edistyneet tekniikat', 'pathAdvancedLessons': '12 oppituntia â€¢ 8 tuntia'
            },
            en: {
                'dashboard': 'Dashboard', 'logout': 'Logout', 'backToDashboard': 'â† Back to Dashboard',
                'pageTitle': 'ğŸ“š Study & Learn', 'pageDesc': 'Deepen your understanding of astrology, cosmic patterns, and self-discovery.',
                'featuredGuide': 'Featured Guide', 'birthChartTitle': 'Understanding Your Birth Chart',
                'birthChartDesc': 'Your birth chart is a cosmic snapshot of the sky at the moment you were born. Learn how the positions of planets, houses, and aspects create your unique astrological blueprint.',
                'startReading': 'Start Reading', 'all': 'All', 'basics': 'Basics', 'planets': 'Planets',
                'houses': 'Houses', 'aspects': 'Aspects', 'transits': 'Transits', 'zodiacSigns': 'Zodiac Signs',
                'zodiacTitle': 'The 12 Zodiac Signs: Complete Guide', 'zodiacExcerpt': 'Explore the characteristics, strengths, and challenges of each zodiac sign in our comprehensive guide.',
                'minRead15': '15 min read', 'minRead10': '10 min read', 'minRead8': '8 min read',
                'minRead12': '12 min read', 'minRead20': '20 min read', 'readMore': 'Read More â†’',
                'moon': 'Moon', 'moonTitle': 'Understanding Your Moon Sign', 'moonExcerpt': 'Your Moon sign reveals your emotional nature and inner world. Discover what yours says about you.',
                'ascendant': 'Ascendant', 'risingTitle': 'Your Rising Sign Explained', 'risingExcerpt': 'The Ascendant shapes how others perceive you. Learn about its powerful influence on your personality.',
                'housesLabel': 'Houses', 'housesTitle': 'The 12 Houses of Astrology', 'housesExcerpt': 'Each house represents a different area of life. Learn what planets in each house mean for you.',
                'aspectsLabel': 'Aspects', 'aspectsTitle': 'Planetary Aspects: How Planets Interact', 'aspectsExcerpt': 'Conjunctions, squares, trines, and oppositions - understand how planetary relationships shape your chart.',
                'transitsLabel': 'Transits', 'transitsTitle': 'How to Read Transits', 'transitsExcerpt': 'Current planetary movements affect your natal chart. Learn to interpret transits in your daily life.',
                'learningPaths': 'ğŸ“ Learning Paths', 'pathBasics': 'Astrology Basics', 'pathBasicsLessons': '5 lessons â€¢ 2 hours',
                'pathPlanets': 'Planetary Influences', 'pathPlanetsLessons': '8 lessons â€¢ 4 hours',
                'pathChart': 'Chart Interpretation', 'pathChartLessons': '10 lessons â€¢ 6 hours',
                'pathAdvanced': 'Advanced Techniques', 'pathAdvancedLessons': '12 lessons â€¢ 8 hours'
            }
        };

        let currentLang = 'fi';
        function t(key) { return translations[currentLang]?.[key] || translations['en']?.[key] || key; }
        function applyTranslations() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[currentLang]?.[key]) el.textContent = translations[currentLang][key];
            });
        }

        // Check if user is authenticated (cookie or localStorage)
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
            return null;
        }
        
        const loggedInCookie = getCookie('logged_in');
        const token = localStorage.getItem('token');
        
        if (!loggedInCookie && !token) {
            window.location.href = '/';
        }

        // Load user data to get language preference
        async function loadUserData() {
            try {
                const response = await fetch('/api/auth/me', {
                    headers: { 'Content-Type': 'application/json' },
                    credentials: 'include'
                });
                if (response.ok) {
                    const userData = await response.json();
                    currentLang = userData.prediction_language || 'fi';
                    applyTranslations();
                }
            } catch (e) {
                console.error('Error loading user data:', e);
            }
        }
        loadUserData();

        document.getElementById('logoutBtn').addEventListener('click', () => {
            localStorage.removeItem('token');
            window.location.href = '/logout';  // Clears cookies too
        });

        // Category filtering (placeholder functionality)
        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            });
        });
    </script>
</body>
</html>

